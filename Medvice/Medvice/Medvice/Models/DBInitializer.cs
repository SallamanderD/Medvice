using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Data.Entity;

namespace Medvice.Models
{
    public class DBInitializer : DropCreateDatabaseAlways<MedviceContext>
    {
        protected override void Seed(MedviceContext context)
        {
            context.Diseases.Add(new Disease { DiseaseId = "1", Name = "ОРВИ", Description = "НАХУЯ ЛЕЧИТЬСЯ, ЕБОШ ПИВАС" });
            context.SaveChanges();
            context.Simpotoms.Add(new Simpotom { SimpotomId = "1", Name = "Температура", ShortDescription = "Температура тела выше 37" });
            context.SaveChanges();
            context.Diseases.Where(x => x.DiseaseId == "1").First().Simpotoms.Add(context.Simpotoms.Where(x => x.SimpotomId == "1").First());
            context.SaveChanges();
            base.Seed(context);
        }

        public static void Create(MedviceContext context)
        {
            context.Database.Delete();
            context.Simpotoms.Add(new Simpotom { SimpotomId = "1",Name="Кашель", ShortDescription = "Кашель может донимать человека по разным причинам. В особенности опасны демисезонные периоды, когда частая смена погоды, влажность и сырость могут серьезно подкосить здоровье. Как вылечить кашель и какая профилактика самая эффективная – предлагаем узнать из этой статьи.", Description = "Если вас иногда настигает влажный кашель с мокротой, которая легко отделяется, – не стоит паниковать и обращаться в аптеку с вопросом – чем лечить мокрый кашель. Оказывается, такой кашель даже полезен здоровому организму. Он очищает легкие от слизи и мокроты, вместе с которыми уходят и вредные бактерии, заселяющие наш организм. Но если кашель сухой и раздражающий горло, а процесс откашливания приносит дискомфорт и не дает облегчения, сопутствует температура – стоит показаться врачу, основная задача которого превратить сухой кашель во влажный и помочь организму в борьбе за здоровье. Некоторые симптомы нельзя недооценивать, и наличие кашля в том числе, ведь сам по себе просто так он не появляется.Сильный кашель – это лишь следствие более серьезного или же хронического заболевания, такого как простуда, аллергия, воспалительные процессы бронхов.Прежде, чем лечить кашель у взрослого, нужно понимать, какой именно вид кашля сопутствует тем или иным болезням.", Other = "Лечение кашля предполагает применение комплексного подхода, а его вариации зависят от причины, которая и вызвала этот неприятный симптом. Препараты, представленные в аптеке, отлично помогают в вопросе «как избавиться от кашля». Народные методы в борьбе с ним также могут оказаться весьма эффективными. Очень важно следить за тем, чтобы больной в течение дня выпивал как можно больше жидкости.Это поможет поддерживать баланс обезвоженного в результате обильного потоотделения организма, а также усилит вывод токсинов.Жидкость позволяет мокроте разжижаться и быстрее выходить естественным путем.При ангине и фарингите полезным будем употребление минеральных вод повышенной щелочности." });
            context.SaveChanges();
            context.Diseases.Add(new Disease { DiseaseId = "1", ShortDescription = "Грипп — это острое инфекционное заболевание дыхательных путей, которое вызывается вирусом гриппа. В обиходе гриппом часто называют любое простудное заболевание, что не является верным, потому что, кроме собственно вируса гриппа, схожие симптомы могут вызываться множеством других (аденовирусы, риновирусы, респираторно-синцитиальные вирусы и т. д.).", Name = "ОРВИ", Description = "Симптомы, которые вызываются этими возбудителями, очень схожи. Поэтому вирусные заболевания дыхательной системы были объединены в группу ОРВИ — острых респираторных вирусных инфекций. По этой же причине точно установить, какой именно возбудитель стал причиной конкретного случая болезни, опираясь лишь на данные осмотра больного, невозможно. Точно определить возбудителя и поставить диагноз «грипп» можно только используя лабораторные методы диагностики, которые, к сожалению, не всегда доступны рядовому врачу. NB1Также заболевания дыхательных путей могут вызываться бактериями (стрептококками, гемофильной палочкой, стафилококками и другими). При этом картина заболевания несколько отличается от вирусной, и при внимательном расспросе и тщательном обследовании можно если не установить точно, то предположить, что данный случай вызван бактериальной, а не вирусной, инфекцией. Конечно же, окончательно определиться с возбудителем можно, опять-таки, лишь после лабораторной диагностики.", SpreadWay = "Обычно называется только один путь передачи ОРВИ — воздушно-капельный. Но он является не единственным. Вирусы, вызывающие ОРВИ, обладают тропностью к слизистым оболочкам дыхательных путей человека. Это означает, что прочно зафиксироваться и начать активное размножение они могут, лишь попав на слизистую носа, рта, горла, бронхов. Но для того, чтобы туда попасть, вирусам нужно пройти путь от заражённого человека к больному. В первую очередь, вирусам нужно покинуть место предыдущего обитания. Любая инфекция устроена так, что в организме она вызывает реакции, которые способствуют её распространению. Так, кишечные инфекции вызывают понос и рвоту, бешенство — слюнотечение, а респираторные инфекции вызывают чихание, слёзотечение и кашель. Распространение вирусов при чиханииВо время чихания, так же как и при кашле, изо рта больного человека вылетают мельчайшие частицы слюны и мокроты, в которых вирусы содержатся в огромных количествах. Поэтому первый механизм передачи ОРВИ так и называется — воздушно-капельный. Обычно частицы влаги с вирусами вдыхаются другим человеком не сразу (для этого нужно находиться в непосредственной близости к чихающему), а после того, как они осядут на пол, высохнут и вновь поднимутся в воздух с пылью.", Recommendation = "Несмотря на то, что современная наука достигла огромных успехов в создании антибактериальных препаратов (известных в обиходе как антибиотики), в борьбе с вирусными инфекциями такого прогресса пока нет. Связано это с тем, что вирусы, в отличие от бактерий, могут размножаться только внутри клеток. Находясь там, они надёжно защищены как от воздействия собственных иммунных сил организма, так и от лекарств, которые могли бы нарушить их жизнедеятельность. По этой же причине единственным механизмом борьбы организма с вирусной инфекцией является разрушение заражённых клеток. Антибиотики, успешно излечивающие от бактериальных инфекций, неэффективны для лечения ОРВИ. Они имеют совершенно другие механизмы действия, которые никак не могут влиять на вирусы. Единственным случаем, когда оправдано применение антибиотиков, является присоединение ещё и бактериальной инфекции. На сегодняшний день единственным препаратом, который имеет доказанную эффективность против некоторых возбудителей ОРВИ, является озельтамивир (продаваемый в аптеках под названием Тамифлю). Озельтамивир действует на вирусы гриппа А и В. К сожалению, эффективных лекарств, которые бы действовали на других возбудителей ОРВИ, ещё не создано." });
            context.SaveChanges();
            context.Diseases.Where(x => x.DiseaseId == "1").First().Simpotoms.Add(context.Simpotoms.Where(x => x.SimpotomId == "1").First());
            context.SaveChanges();
            
        }
    }
}